<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>News Article Clustering - ML Project</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="container">
            <div class="navbar-content">
                <div class="navbar-brand">
                    <i class="fas fa-brain"></i>
                    <span>News Clustering AI</span>
                </div>
                <div class="navbar-status">
                    <span id="status-badge" class="status-badge loading">
                        <i class="fas fa-spinner"></i> Loading...
                    </span>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <div class="hero-content">
                <h1>News Article Clustering System</h1>
                <p>Intelligent clustering and categorization using Machine Learning</p>
                <div class="hero-stats">
                    <div class="stat">
                        <i class="fas fa-database"></i>
                        <div>
                            <span class="stat-value" id="cluster-count">5</span>
                            <span class="stat-label">Clusters</span>
                        </div>
                    </div>
                    <div class="stat">
                        <i class="fas fa-brain"></i>
                        <div>
                            <span class="stat-value">K-Means</span>
                            <span class="stat-label">Algorithm</span>
                        </div>
                    </div>
                    <div class="stat">
                        <i class="fas fa-check-circle"></i>
                        <div>
                            <span class="stat-value" id="accuracy-value">95%</span>
                            <span class="stat-label">Accuracy</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Main Content -->
    <main class="main-content">
        <div class="container">
            <!-- Prediction Section -->
            <section class="prediction-section">
                <div class="section-header">
                    <h2><i class="fas fa-magic"></i> Predict Article Cluster</h2>
                    <p>Enter a news article text to get its predicted cluster category</p>
                </div>

                <div class="prediction-card">
                    <div class="input-group">
                        <label for="article-input">News Article Text</label>
                        <textarea 
                            id="article-input"
                            class="article-input"
                            placeholder="Paste your news article here... (minimum 10 characters)"
                            rows="8"></textarea>
                        <div class="char-count">
                            <span id="char-counter">0</span> / 5000 characters
                        </div>
                    </div>

                    <div class="button-group">
                        <button id="predict-btn" class="btn btn-primary">
                            <i class="fas fa-paper-plane"></i> Predict Cluster
                        </button>
                        <button id="clear-btn" class="btn btn-secondary">
                            <i class="fas fa-times"></i> Clear
                        </button>
                        <button id="sample-btn" class="btn btn-tertiary">
                            <i class="fas fa-star"></i> Load Sample
                        </button>
                    </div>

                    <!-- Result Display -->
                    <div id="result-container" class="result-container hidden">
                        <div class="result-card">
                            <div class="result-header">
                                <h3>Prediction Result</h3>
                                <button class="close-btn" id="close-result">
                                    <i class="fas fa-times"></i>
                                </button>
                            </div>

                            <div class="result-content">
                                <div class="result-main">
                                    <div class="cluster-display">
                                        <div class="cluster-badge">
                                            <span id="predicted-cluster">0</span>
                                        </div>
                                        <div class="cluster-info">
                                            <h4>Predicted Cluster</h4>
                                            <p id="cluster-label"></p>
                                        </div>
                                    </div>

                                    <div class="confidence-section">
                                        <h4>Confidence Score</h4>
                                        <div class="confidence-bar">
                                            <div id="confidence-fill" class="confidence-fill"></div>
                                        </div>
                                        <span id="confidence-text">0%</span>
                                    </div>
                                </div>

                                <div class="keywords-section">
                                    <h4><i class="fas fa-tags"></i> Cluster Keywords</h4>
                                    <div id="keywords-list" class="keywords-list"></div>
                                </div>

                                <div class="preview-section">
                                    <h4><i class="fas fa-eye"></i> Text Preview</h4>
                                    <p id="text-preview" class="text-preview"></p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Batch Prediction Section -->
            <section class="batch-section">
                <div class="section-header">
                    <h2><i class="fas fa-list"></i> Batch Prediction</h2>
                    <p>Predict clusters for multiple articles at once</p>
                </div>

                <div class="batch-card">
                    <div class="input-group">
                        <label for="batch-input">Enter Articles (one per line)</label>
                        <textarea 
                            id="batch-input"
                            class="batch-input"
                            placeholder="Enter multiple articles separated by new lines..."
                            rows="6"></textarea>
                    </div>

                    <button id="batch-predict-btn" class="btn btn-primary">
                        <i class="fas fa-cogs"></i> Predict Batch
                    </button>

                    <!-- Batch Results -->
                    <div id="batch-results" class="batch-results hidden">
                        <h4>Batch Prediction Results</h4>
                        <div id="batch-items" class="batch-items"></div>
                    </div>
                </div>
            </section>

            <!-- Model Info Section -->
            <section class="info-section">
                <div class="section-header">
                    <h2><i class="fas fa-info-circle"></i> Model Information</h2>
                </div>

                <div class="info-grid">
                    <div class="info-card">
                        <h3><i class="fas fa-cube"></i> Clustering Algorithm</h3>
                        <p>K-Means with TF-IDF feature extraction</p>
                    </div>
                    <div class="info-card">
                        <h3><i class="fas fa-database"></i> Training Data</h3>
                        <p>Multi-category news articles dataset</p>
                    </div>
                    <div class="info-card">
                        <h3><i class="fas fa-chart-bar"></i> Performance</h3>
                        <p id="model-performance">Computing metrics...</p>
                    </div>
                    <div id="clusters-info" class="info-card cluster-info-card"></div>
                </div>
            </section>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p>&copy; 2024 News Article Clustering ML Project. Built with <i class="fas fa-heart"></i> using Flask & scikit-learn</p>
        </div>
    </footer>

    <!-- Loading Spinner -->
    <div id="loading-spinner" class="loading-spinner hidden">
        <div class="spinner"></div>
        <p>Processing...</p>
    </div>

    <!-- Toast Notification -->
    <div id="toast" class="toast hidden"></div>

    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
</body>
</html>
